{"ast":null,"code":"import axios from 'axios';\nimport { POSTS_FAIL, POSTS_LOADING, POSTS_SUCCESS, POST_SUCCESS } from \"../types/types\";\n\nconst postsLoading = () => ({\n  type: POSTS_LOADING\n});\n\nconst successData = data => ({\n  type: POSTS_SUCCESS,\n  payload: data\n});\n\nconst errorData = error => ({\n  type: POSTS_FAIL,\n  payload: error\n});\n\nconst successPost = data => ({\n  type: POST_SUCCESS,\n  payload: data\n});\n\nconst getPosts = () => dispatch => {\n  postsLoading();\n  axios.get('https://simple-blog-api.crew.red/posts').then(res => dispatch(successData(res.data))).catch(error => dispatch(errorData(error))).finally(() => postsLoading());\n};\n\nconst getPostsById = id => dispatch => {\n  postsLoading();\n  axios.get(`https://simple-blog-api.crew.red/posts/${id}?_embed=comments`).then(res => dispatch(successPost(res.data)));\n};\n\n;\n\nconst addPost = (newPost, dispatch) => dispatch => {\n  axios({\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    data: JSON.stringify(newPost),\n    url: 'https://simple-blog-api.crew.red/posts'\n  });\n}; // export function addPost(newPost: newPost, dispatch: Function) {\n//   axios({\n//       method: 'POST',\n//       headers: { 'Content-Type': 'application/json' },\n//       data: JSON.stringify(newPost),\n//       url: 'https://simple-blog-api.crew.red/posts'\n//   })\n//       .then(res => dispatch({ type: \"ADDPOST\" }));\n// };\n\n\nexport { getPosts, getPostsById };","map":{"version":3,"sources":["C:/mvp-blog-typescript/src/redux/actions/actions.ts"],"names":["axios","POSTS_FAIL","POSTS_LOADING","POSTS_SUCCESS","POST_SUCCESS","postsLoading","type","successData","data","payload","errorData","error","successPost","getPosts","dispatch","get","then","res","catch","finally","getPostsById","id","addPost","newPost","method","headers","JSON","stringify","url"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,aAArB,EAAoCC,aAApC,EAAmDC,YAAnD;;AAEA,MAAMC,YAAY,GAAG,OAAO;AAC1BC,EAAAA,IAAI,EAAEJ;AADoB,CAAP,CAArB;;AAIA,MAAMK,WAAW,GAAIC,IAAD,KAAW;AAC7BF,EAAAA,IAAI,EAAEH,aADuB;AAE7BM,EAAAA,OAAO,EAAED;AAFoB,CAAX,CAApB;;AAKA,MAAME,SAAS,GAAIC,KAAD,KAAY;AAC5BL,EAAAA,IAAI,EAAEL,UADsB;AAE5BQ,EAAAA,OAAO,EAAEE;AAFmB,CAAZ,CAAlB;;AAKA,MAAMC,WAAW,GAAIJ,IAAD,KAAW;AAC3BF,EAAAA,IAAI,EAAEF,YADqB;AAE3BK,EAAAA,OAAO,EAAED;AAFkB,CAAX,CAApB;;AAMA,MAAMK,QAAQ,GAAG,MAAOC,QAAD,IAAc;AACnCT,EAAAA,YAAY;AACZL,EAAAA,KAAK,CACFe,GADH,CACO,wCADP,EAEGC,IAFH,CAESC,GAAD,IAASH,QAAQ,CAACP,WAAW,CAACU,GAAG,CAACT,IAAL,CAAZ,CAFzB,EAGGU,KAHH,CAGUP,KAAD,IAAWG,QAAQ,CAACJ,SAAS,CAACC,KAAD,CAAV,CAH5B,EAIGQ,OAJH,CAIW,MAAMd,YAAY,EAJ7B;AAKD,CAPD;;AASA,MAAMe,YAAY,GAAIC,EAAD,IAA4BP,QAAD,IAAwB;AACtET,EAAAA,YAAY;AACZL,EAAAA,KAAK,CACFe,GADH,CACQ,0CAAyCM,EAAG,kBADpD,EAEGL,IAFH,CAESC,GAAD,IAASH,QAAQ,CAACF,WAAW,CAACK,GAAG,CAACT,IAAL,CAAZ,CAFzB;AAGD,CALD;;AAUC;;AAED,MAAMc,OAAO,GAAG,CAACC,OAAD,EAAmBT,QAAnB,KAA2CA,QAAD,IAAwB;AAC9Ed,EAAAA,KAAK,CAAC;AACJwB,IAAAA,MAAM,EAAE,MADJ;AAEJC,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB,KAFL;AAGJjB,IAAAA,IAAI,EAAEkB,IAAI,CAACC,SAAL,CAAeJ,OAAf,CAHF;AAIJK,IAAAA,GAAG,EAAE;AAJD,GAAD,CAAL;AAMH,CAPD,C,CASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,SAASf,QAAT,EAAmBO,YAAnB","sourcesContent":["import axios from 'axios';\r\nimport { POSTS_FAIL, POSTS_LOADING, POSTS_SUCCESS, POST_SUCCESS } from '../types/types';\r\n\r\nconst postsLoading = () => ({\r\n  type: POSTS_LOADING,\r\n});\r\n\r\nconst successData = (data) => ({\r\n  type: POSTS_SUCCESS,\r\n  payload: data,\r\n});\r\n\r\nconst errorData = (error) => ({\r\n  type: POSTS_FAIL,\r\n  payload: error,\r\n});\r\n\r\nconst successPost = (data) => ({\r\n    type: POST_SUCCESS,\r\n    payload: data,\r\n})\r\n\r\n\r\nconst getPosts = () => (dispatch) => {\r\n  postsLoading();\r\n  axios\r\n    .get('https://simple-blog-api.crew.red/posts')\r\n    .then((res) => dispatch(successData(res.data)))\r\n    .catch((error) => dispatch(errorData(error)))\r\n    .finally(() => postsLoading());\r\n};\r\n\r\nconst getPostsById = (id: string | string[]) => (dispatch: Function) => {\r\n  postsLoading();\r\n  axios\r\n    .get(`https://simple-blog-api.crew.red/posts/${id}?_embed=comments`)\r\n    .then((res) => dispatch(successPost(res.data)))\r\n};\r\n\r\ninterface newPost {\r\n  title: string,\r\n  body: string\r\n};\r\n\r\nconst addPost = (newPost: newPost, dispatch: Function) => (dispatch: Function) => {\r\n    axios({\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      data: JSON.stringify(newPost),\r\n      url: 'https://simple-blog-api.crew.red/posts'\r\n  })\r\n}\r\n\r\n// export function addPost(newPost: newPost, dispatch: Function) {\r\n//   axios({\r\n//       method: 'POST',\r\n//       headers: { 'Content-Type': 'application/json' },\r\n//       data: JSON.stringify(newPost),\r\n//       url: 'https://simple-blog-api.crew.red/posts'\r\n//   })\r\n//       .then(res => dispatch({ type: \"ADDPOST\" }));\r\n// };\r\n\r\n\r\nexport { getPosts, getPostsById };\r\n"]},"metadata":{},"sourceType":"module"}