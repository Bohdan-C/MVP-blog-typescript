{"ast":null,"code":"import axios from 'axios';\nimport { POSTS_FAIL, POSTS_LOADING, POSTS_SUCCESS } from '../types/types';\n\nvar postsLoading = function postsLoading() {\n  return {\n    type: POSTS_LOADING\n  };\n};\n\nvar successData = function successData(data) {\n  return {\n    type: POSTS_SUCCESS,\n    payload: data\n  };\n};\n\nvar errorData = function errorData(error) {\n  return {\n    type: POSTS_FAIL,\n    payload: error\n  };\n};\n\nvar successPost = function successPost(data) {\n  return {\n    type: POST_SUCCESS\n  };\n};\n\nvar getPosts = function getPosts() {\n  return function (dispatch) {\n    postsLoading();\n    axios.get('https://simple-blog-api.crew.red/posts').then(function (res) {\n      return dispatch(successData(res.data));\n    })[\"catch\"](function (error) {\n      return dispatch(errorData(error));\n    })[\"finally\"](function () {\n      return postsLoading();\n    });\n  };\n}; // export function getPost(id: string | string[], dispatch: Function) {\n//     if (id === undefined) return;\n//     axios(`https://simple-blog-api.crew.red/posts/${id}?_embed=comments`)\n//         .then(res => dispatch({ type: \"GETPOST\", post: res.data }));\n// };\n\n\nvar getPostsComment = function getPostsComment(id) {\n  return function (dispatch) {\n    postsLoading();\n    axios.get(\"https://simple-blog-api.crew.red/posts/\".concat(id, \"?_embed=comments\")).then(function (res) {\n      return dispatch(successData(res.data));\n    })[\"catch\"](function (error) {\n      return dispatch(errorData(error));\n    })[\"finally\"](function () {\n      return postsLoading();\n    });\n  };\n};\n\nexport { getPosts, getPostsComment };","map":{"version":3,"sources":["C:/mvp-blog-typescript/src/redux/actions/actions.ts"],"names":["axios","POSTS_FAIL","POSTS_LOADING","POSTS_SUCCESS","postsLoading","type","successData","data","payload","errorData","error","successPost","POST_SUCCESS","getPosts","dispatch","get","then","res","getPostsComment","id"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,aAArB,EAAoCC,aAApC,QAAyD,gBAAzD;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe;AAAA,SAAO;AAC1BC,IAAAA,IAAI,EAAEH;AADoB,GAAP;AAAA,CAArB;;AAIA,IAAMI,WAAW,GAAG,SAAdA,WAAc,CAACC,IAAD;AAAA,SAAW;AAC7BF,IAAAA,IAAI,EAAEF,aADuB;AAE7BK,IAAAA,OAAO,EAAED;AAFoB,GAAX;AAAA,CAApB;;AAKA,IAAME,SAAS,GAAG,SAAZA,SAAY,CAACC,KAAD;AAAA,SAAY;AAC5BL,IAAAA,IAAI,EAAEJ,UADsB;AAE5BO,IAAAA,OAAO,EAAEE;AAFmB,GAAZ;AAAA,CAAlB;;AAKA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACJ,IAAD;AAAA,SAAW;AAC3BF,IAAAA,IAAI,EAAEO;AADqB,GAAX;AAAA,CAApB;;AAKA,IAAMC,QAAQ,GAAG,SAAXA,QAAW;AAAA,SAAM,UAACC,QAAD,EAAc;AACnCV,IAAAA,YAAY;AACZJ,IAAAA,KAAK,CACFe,GADH,CACO,wCADP,EAEGC,IAFH,CAEQ,UAACC,GAAD;AAAA,aAASH,QAAQ,CAACR,WAAW,CAACW,GAAG,CAACV,IAAL,CAAZ,CAAjB;AAAA,KAFR,WAGS,UAACG,KAAD;AAAA,aAAWI,QAAQ,CAACL,SAAS,CAACC,KAAD,CAAV,CAAnB;AAAA,KAHT,aAIW;AAAA,aAAMN,YAAY,EAAlB;AAAA,KAJX;AAKD,GAPgB;AAAA,CAAjB,C,CASA;AACA;AACA;AACA;AACA;;;AAEA,IAAMc,eAAe,GAAG,SAAlBA,eAAkB,CAACC,EAAD;AAAA,SAA2B,UAACL,QAAD,EAAwB;AACzEV,IAAAA,YAAY;AACZJ,IAAAA,KAAK,CACFe,GADH,kDACiDI,EADjD,uBAEGH,IAFH,CAEQ,UAACC,GAAD;AAAA,aAASH,QAAQ,CAACR,WAAW,CAACW,GAAG,CAACV,IAAL,CAAZ,CAAjB;AAAA,KAFR,WAGS,UAACG,KAAD;AAAA,aAAWI,QAAQ,CAACL,SAAS,CAACC,KAAD,CAAV,CAAnB;AAAA,KAHT,aAIW;AAAA,aAAMN,YAAY,EAAlB;AAAA,KAJX;AAKD,GAPuB;AAAA,CAAxB;;AASA,SAASS,QAAT,EAAmBK,eAAnB","sourcesContent":["import axios from 'axios';\r\nimport { POSTS_FAIL, POSTS_LOADING, POSTS_SUCCESS } from '../types/types';\r\n\r\nconst postsLoading = () => ({\r\n  type: POSTS_LOADING,\r\n});\r\n\r\nconst successData = (data) => ({\r\n  type: POSTS_SUCCESS,\r\n  payload: data,\r\n});\r\n\r\nconst errorData = (error) => ({\r\n  type: POSTS_FAIL,\r\n  payload: error,\r\n});\r\n\r\nconst successPost = (data) => ({\r\n    type: POST_SUCCESS\r\n})\r\n\r\n\r\nconst getPosts = () => (dispatch) => {\r\n  postsLoading();\r\n  axios\r\n    .get('https://simple-blog-api.crew.red/posts')\r\n    .then((res) => dispatch(successData(res.data)))\r\n    .catch((error) => dispatch(errorData(error)))\r\n    .finally(() => postsLoading());\r\n};\r\n\r\n// export function getPost(id: string | string[], dispatch: Function) {\r\n//     if (id === undefined) return;\r\n//     axios(`https://simple-blog-api.crew.red/posts/${id}?_embed=comments`)\r\n//         .then(res => dispatch({ type: \"GETPOST\", post: res.data }));\r\n// };\r\n\r\nconst getPostsComment = (id: string | string[]) => (dispatch: Function) => {\r\n  postsLoading();\r\n  axios\r\n    .get(`https://simple-blog-api.crew.red/posts/${id}?_embed=comments`)\r\n    .then((res) => dispatch(successData(res.data)))\r\n    .catch((error) => dispatch(errorData(error)))\r\n    .finally(() => postsLoading());\r\n};\r\n\r\nexport { getPosts, getPostsComment };\r\n"]},"metadata":{},"sourceType":"module"}