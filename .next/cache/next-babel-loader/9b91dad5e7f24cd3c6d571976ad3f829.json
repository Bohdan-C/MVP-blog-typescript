{"ast":null,"code":"import axios from \"axios\";\nimport { POSTS_FAIL, POSTS_LOADING, POSTS_SUCCESS, POST_SUCCESS, POST_ADD_SUCCESS } from \"../types/types\";\n\nvar postsLoading = function postsLoading() {\n  return {\n    type: POSTS_LOADING\n  };\n};\n\nvar successData = function successData(data) {\n  return {\n    type: POSTS_SUCCESS,\n    payload: data\n  };\n};\n\nvar errorData = function errorData(error) {\n  return {\n    type: POSTS_FAIL,\n    payload: error\n  };\n};\n\nvar successPost = function successPost(data) {\n  return {\n    type: POST_SUCCESS,\n    payload: data\n  };\n};\n\nvar successAddData = function successAddData() {\n  return {\n    type: POST_ADD_SUCCESS\n  };\n};\n\nvar getPosts = function getPosts() {\n  return function (dispatch) {\n    postsLoading();\n    axios.get(\"https://simple-blog-api.crew.red/posts\").then(function (res) {\n      return dispatch(successData(res.data));\n    })[\"catch\"](function (error) {\n      return dispatch(errorData(error));\n    })[\"finally\"](function () {\n      return postsLoading();\n    });\n  };\n};\n\nvar getPostsById = function getPostsById(PostId) {\n  return function (dispatch) {\n    if (PostId === undefined) return;\n    axios.get(\"https://simple-blog-api.crew.red/posts/\".concat(PostId, \"?_embed=comments\")).then(function (res) {\n      return dispatch(successPost(res.data));\n    });\n  };\n}; // export interface IPostId {\n//   MESSEGE: string\n// }\n// export function getPostsById(id: string | string[], dispatch: Function) {\n//   if (id === undefined) return;\n//   axios(`https://simple-blog-api.crew.red/posts/${id}?_embed=comments`)\n//   .then(res => dispatch({ type: \"GETPOST\", post: res.data }));\n// };\n\n\nvar addPost = function addPost(newPost, dispatch) {\n  return function (dispatch) {\n    axios({\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      data: JSON.stringify(newPost),\n      url: \"https://simple-blog-api.crew.red/posts\"\n    }).then(function (res) {\n      return console.log(res);\n    });\n  };\n};\n\n; // Этот запрос отправляет данные о новом коментарии (Страница поста)\n// export function addComment(newComment: newComment, dispatch: Function) {\n//   axios({\n//       method: 'POST',\n//       headers: { 'Content-Type': 'application/json' },\n//       data: JSON.stringify(newComment),\n//       url: 'https://simple-blog-api.crew.red/comments'\n//   })\n//       .then(res => dispatch({ type: \"ADDCOMMENT\", res: res.data }));\n// };\n\nexport { getPosts, getPostsById, addPost };","map":{"version":3,"sources":["C:/mvp-blog-typescript/src/redux/actions/actions.ts"],"names":["axios","POSTS_FAIL","POSTS_LOADING","POSTS_SUCCESS","POST_SUCCESS","POST_ADD_SUCCESS","postsLoading","type","successData","data","payload","errorData","error","successPost","successAddData","getPosts","dispatch","get","then","res","getPostsById","PostId","undefined","addPost","newPost","method","headers","JSON","stringify","url","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,UADF,EAEEC,aAFF,EAGEC,aAHF,EAIEC,YAJF,EAKEC,gBALF;;AAQA,IAAMC,YAAY,GAAG,SAAfA,YAAe;AAAA,SAAO;AAC1BC,IAAAA,IAAI,EAAEL;AADoB,GAAP;AAAA,CAArB;;AAIA,IAAMM,WAAW,GAAG,SAAdA,WAAc,CAACC,IAAD;AAAA,SAAW;AAC7BF,IAAAA,IAAI,EAAEJ,aADuB;AAE7BO,IAAAA,OAAO,EAAED;AAFoB,GAAX;AAAA,CAApB;;AAKA,IAAME,SAAS,GAAG,SAAZA,SAAY,CAACC,KAAD;AAAA,SAAY;AAC5BL,IAAAA,IAAI,EAAEN,UADsB;AAE5BS,IAAAA,OAAO,EAAEE;AAFmB,GAAZ;AAAA,CAAlB;;AAKA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACJ,IAAD;AAAA,SAAW;AAC7BF,IAAAA,IAAI,EAAEH,YADuB;AAE7BM,IAAAA,OAAO,EAAED;AAFoB,GAAX;AAAA,CAApB;;AAKA,IAAMK,cAAc,GAAG,SAAjBA,cAAiB;AAAA,SAAO;AAC5BP,IAAAA,IAAI,EAAEF;AADsB,GAAP;AAAA,CAAvB;;AAIA,IAAMU,QAAQ,GAAG,SAAXA,QAAW;AAAA,SAAM,UAACC,QAAD,EAAwB;AAC7CV,IAAAA,YAAY;AACZN,IAAAA,KAAK,CACFiB,GADH,CACO,wCADP,EAEGC,IAFH,CAEQ,UAACC,GAAD;AAAA,aAASH,QAAQ,CAACR,WAAW,CAACW,GAAG,CAACV,IAAL,CAAZ,CAAjB;AAAA,KAFR,WAGS,UAACG,KAAD;AAAA,aAAWI,QAAQ,CAACL,SAAS,CAACC,KAAD,CAAV,CAAnB;AAAA,KAHT,aAIW;AAAA,aAAMN,YAAY,EAAlB;AAAA,KAJX;AAKD,GAPgB;AAAA,CAAjB;;AASA,IAAMc,YAAY,GAAG,SAAfA,YAAe,CAACC,MAAD;AAAA,SAA+B,UAACL,QAAD,EAAwB;AAC1E,QAAIK,MAAM,KAAKC,SAAf,EAA0B;AAC1BtB,IAAAA,KAAK,CACFiB,GADH,kDACiDI,MADjD,uBAEGH,IAFH,CAEQ,UAACC,GAAD;AAAA,aAASH,QAAQ,CAACH,WAAW,CAACM,GAAG,CAACV,IAAL,CAAZ,CAAjB;AAAA,KAFR;AAGD,GALoB;AAAA,CAArB,C,CAOA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;AAOA,IAAMc,OAAO,GAAG,SAAVA,OAAU,CAACC,OAAD,EAAmBR,QAAnB;AAAA,SAA0C,UACxDA,QADwD,EAErD;AACHhB,IAAAA,KAAK,CAAC;AACJyB,MAAAA,MAAM,EAAE,MADJ;AAEJC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OAFL;AAGJjB,MAAAA,IAAI,EAAEkB,IAAI,CAACC,SAAL,CAAeJ,OAAf,CAHF;AAIJK,MAAAA,GAAG,EAAE;AAJD,KAAD,CAAL,CAKGX,IALH,CAKQ,UAACC,GAAD;AAAA,aAASW,OAAO,CAACC,GAAR,CAAYZ,GAAZ,CAAT;AAAA,KALR;AAMD,GATe;AAAA,CAAhB;;AAcC,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA,SAASJ,QAAT,EAAmBK,YAAnB,EAAiCG,OAAjC","sourcesContent":["import axios from \"axios\";\r\nimport {\r\n  POSTS_FAIL,\r\n  POSTS_LOADING,\r\n  POSTS_SUCCESS,\r\n  POST_SUCCESS,\r\n  POST_ADD_SUCCESS,\r\n} from \"../types/types\";\r\n\r\nconst postsLoading = () => ({\r\n  type: POSTS_LOADING,\r\n});\r\n\r\nconst successData = (data) => ({\r\n  type: POSTS_SUCCESS,\r\n  payload: data,\r\n});\r\n\r\nconst errorData = (error) => ({\r\n  type: POSTS_FAIL,\r\n  payload: error,\r\n});\r\n\r\nconst successPost = (data) => ({\r\n  type: POST_SUCCESS,\r\n  payload: data,\r\n});\r\n\r\nconst successAddData = () => ({\r\n  type: POST_ADD_SUCCESS,\r\n});\r\n\r\nconst getPosts = () => (dispatch: Function) => {\r\n  postsLoading();\r\n  axios\r\n    .get(\"https://simple-blog-api.crew.red/posts\")\r\n    .then((res) => dispatch(successData(res.data)))\r\n    .catch((error) => dispatch(errorData(error)))\r\n    .finally(() => postsLoading());\r\n};\r\n\r\nconst getPostsById = (PostId: string | string[]) => (dispatch: Function) => {\r\n  if (PostId === undefined) return;\r\n  axios\r\n    .get(`https://simple-blog-api.crew.red/posts/${PostId}?_embed=comments`)\r\n    .then((res) => dispatch(successPost(res.data)));\r\n};\r\n\r\n// export interface IPostId {\r\n//   MESSEGE: string\r\n// }\r\n\r\n// export function getPostsById(id: string | string[], dispatch: Function) {\r\n//   if (id === undefined) return;\r\n//   axios(`https://simple-blog-api.crew.red/posts/${id}?_embed=comments`)\r\n//   .then(res => dispatch({ type: \"GETPOST\", post: res.data }));\r\n// };\r\n\r\ninterface newPost {\r\n  title: string;\r\n  body: string;\r\n}\r\n\r\nconst addPost = (newPost: newPost, dispatch: Function) => (\r\n  dispatch: Function\r\n) => {\r\n  axios({\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    data: JSON.stringify(newPost),\r\n    url: \"https://simple-blog-api.crew.red/posts\",\r\n  }).then((res) => console.log(res));\r\n};\r\n\r\ninterface newComment {\r\n  postId: number,\r\n  body: string\r\n};\r\n\r\n// Этот запрос отправляет данные о новом коментарии (Страница поста)\r\n// export function addComment(newComment: newComment, dispatch: Function) {\r\n//   axios({\r\n//       method: 'POST',\r\n//       headers: { 'Content-Type': 'application/json' },\r\n//       data: JSON.stringify(newComment),\r\n//       url: 'https://simple-blog-api.crew.red/comments'\r\n//   })\r\n//       .then(res => dispatch({ type: \"ADDCOMMENT\", res: res.data }));\r\n// };\r\n\r\n\r\n\r\nexport { getPosts, getPostsById, addPost };\r\n"]},"metadata":{},"sourceType":"module"}