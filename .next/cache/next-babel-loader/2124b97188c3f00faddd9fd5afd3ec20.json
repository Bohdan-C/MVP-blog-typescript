{"ast":null,"code":"import axios from 'axios';\nimport { POSTS_FAIL, POSTS_LOADING, POSTS_SUCCESS, POST_SUCCESS } from \"../types/types\";\n\nvar postsLoading = function postsLoading() {\n  return {\n    type: POSTS_LOADING\n  };\n};\n\nvar successData = function successData(data) {\n  return {\n    type: POSTS_SUCCESS,\n    payload: data\n  };\n};\n\nvar errorData = function errorData(error) {\n  return {\n    type: POSTS_FAIL,\n    payload: error\n  };\n};\n\nvar successPost = function successPost(data) {\n  return {\n    type: POST_SUCCESS,\n    payload: data\n  };\n};\n\nvar getPosts = function getPosts() {\n  return function (dispatch) {\n    postsLoading();\n    axios.get('https://simple-blog-api.crew.red/posts').then(function (res) {\n      return dispatch(successData(res.data));\n    })[\"catch\"](function (error) {\n      return dispatch(errorData(error));\n    })[\"finally\"](function () {\n      return postsLoading();\n    });\n  };\n};\n\nvar getPostsById = function getPostsById(id) {\n  return function (dispatch) {\n    postsLoading();\n    axios.get(\"https://simple-blog-api.crew.red/posts/\".concat(id, \"?_embed=comments\")).then(function (res) {\n      return dispatch(successPost(res.data));\n    });\n  };\n};\n\nvar addPost = function addPost(newPost, dispatch) {\n  return function (dispatch) {\n    axios({\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      data: JSON.stringify(newPost),\n      url: 'https://simple-blog-api.crew.red/posts'\n    });\n  };\n}; // export function addPost(newPost: newPost, dispatch: Function) {\n//   axios({\n//       method: 'POST',\n//       headers: { 'Content-Type': 'application/json' },\n//       data: JSON.stringify(newPost),\n//       url: 'https://simple-blog-api.crew.red/posts'\n//   })\n//       .then(res => dispatch({ type: \"ADDPOST\" }));\n// };\n\n\nexport { getPosts, getPostsById };","map":{"version":3,"sources":["C:/mvp-blog-typescript/src/redux/actions/actions.ts"],"names":["axios","POSTS_FAIL","POSTS_LOADING","POSTS_SUCCESS","POST_SUCCESS","postsLoading","type","successData","data","payload","errorData","error","successPost","getPosts","dispatch","get","then","res","getPostsById","id","addPost","newPost","method","headers","JSON","stringify","url"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,aAArB,EAAoCC,aAApC,EAAmDC,YAAnD;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe;AAAA,SAAO;AAC1BC,IAAAA,IAAI,EAAEJ;AADoB,GAAP;AAAA,CAArB;;AAIA,IAAMK,WAAW,GAAG,SAAdA,WAAc,CAACC,IAAD;AAAA,SAAW;AAC7BF,IAAAA,IAAI,EAAEH,aADuB;AAE7BM,IAAAA,OAAO,EAAED;AAFoB,GAAX;AAAA,CAApB;;AAKA,IAAME,SAAS,GAAG,SAAZA,SAAY,CAACC,KAAD;AAAA,SAAY;AAC5BL,IAAAA,IAAI,EAAEL,UADsB;AAE5BQ,IAAAA,OAAO,EAAEE;AAFmB,GAAZ;AAAA,CAAlB;;AAKA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACJ,IAAD;AAAA,SAAW;AAC3BF,IAAAA,IAAI,EAAEF,YADqB;AAE3BK,IAAAA,OAAO,EAAED;AAFkB,GAAX;AAAA,CAApB;;AAMA,IAAMK,QAAQ,GAAG,SAAXA,QAAW;AAAA,SAAM,UAACC,QAAD,EAAc;AACnCT,IAAAA,YAAY;AACZL,IAAAA,KAAK,CACFe,GADH,CACO,wCADP,EAEGC,IAFH,CAEQ,UAACC,GAAD;AAAA,aAASH,QAAQ,CAACP,WAAW,CAACU,GAAG,CAACT,IAAL,CAAZ,CAAjB;AAAA,KAFR,WAGS,UAACG,KAAD;AAAA,aAAWG,QAAQ,CAACJ,SAAS,CAACC,KAAD,CAAV,CAAnB;AAAA,KAHT,aAIW;AAAA,aAAMN,YAAY,EAAlB;AAAA,KAJX;AAKD,GAPgB;AAAA,CAAjB;;AASA,IAAMa,YAAY,GAAG,SAAfA,YAAe,CAACC,EAAD;AAAA,SAA2B,UAACL,QAAD,EAAwB;AACtET,IAAAA,YAAY;AACZL,IAAAA,KAAK,CACFe,GADH,kDACiDI,EADjD,uBAEGH,IAFH,CAEQ,UAACC,GAAD;AAAA,aAASH,QAAQ,CAACF,WAAW,CAACK,GAAG,CAACT,IAAL,CAAZ,CAAjB;AAAA,KAFR;AAGD,GALoB;AAAA,CAArB;;AAOA,IAAMY,OAAO,GAAG,SAAVA,OAAU,CAACC,OAAD,EAAkBP,QAAlB;AAAA,SAAyC,UAACA,QAAD,EAAwB;AAC7Ed,IAAAA,KAAK,CAAC;AACJsB,MAAAA,MAAM,EAAE,MADJ;AAEJC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OAFL;AAGJf,MAAAA,IAAI,EAAEgB,IAAI,CAACC,SAAL,CAAeJ,OAAf,CAHF;AAIJK,MAAAA,GAAG,EAAE;AAJD,KAAD,CAAL;AAMH,GAPe;AAAA,CAAhB,C,CASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,SAASb,QAAT,EAAmBK,YAAnB","sourcesContent":["import axios from 'axios';\r\nimport { POSTS_FAIL, POSTS_LOADING, POSTS_SUCCESS, POST_SUCCESS } from '../types/types';\r\n\r\nconst postsLoading = () => ({\r\n  type: POSTS_LOADING,\r\n});\r\n\r\nconst successData = (data) => ({\r\n  type: POSTS_SUCCESS,\r\n  payload: data,\r\n});\r\n\r\nconst errorData = (error) => ({\r\n  type: POSTS_FAIL,\r\n  payload: error,\r\n});\r\n\r\nconst successPost = (data) => ({\r\n    type: POST_SUCCESS,\r\n    payload: data,\r\n})\r\n\r\n\r\nconst getPosts = () => (dispatch) => {\r\n  postsLoading();\r\n  axios\r\n    .get('https://simple-blog-api.crew.red/posts')\r\n    .then((res) => dispatch(successData(res.data)))\r\n    .catch((error) => dispatch(errorData(error)))\r\n    .finally(() => postsLoading());\r\n};\r\n\r\nconst getPostsById = (id: string | string[]) => (dispatch: Function) => {\r\n  postsLoading();\r\n  axios\r\n    .get(`https://simple-blog-api.crew.red/posts/${id}?_embed=comments`)\r\n    .then((res) => dispatch(successPost(res.data)))\r\n};\r\n\r\nconst addPost = (newPost: newPost,dispatch: Function) => (dispatch: Function) => {\r\n    axios({\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      data: JSON.stringify(newPost),\r\n      url: 'https://simple-blog-api.crew.red/posts'\r\n  })\r\n}\r\n\r\n// export function addPost(newPost: newPost, dispatch: Function) {\r\n//   axios({\r\n//       method: 'POST',\r\n//       headers: { 'Content-Type': 'application/json' },\r\n//       data: JSON.stringify(newPost),\r\n//       url: 'https://simple-blog-api.crew.red/posts'\r\n//   })\r\n//       .then(res => dispatch({ type: \"ADDPOST\" }));\r\n// };\r\n\r\n\r\nexport { getPosts, getPostsById };\r\n"]},"metadata":{},"sourceType":"module"}